{"_path":"/docs/dev/running-local-blockchain","_dir":"dev","_draft":false,"_partial":false,"_locale":"","title":"Running local blockchain","description":"In this tutorial we will explain how to run local blockchain. It will be extremely useful for testing your dapps locally, before deplying them to public networks","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"running-local-blockchain"},"children":[{"type":"text","value":"Running local blockchain"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this tutorial we will explain how to run local blockchain. It will be extremely useful for testing your dapps locally, before deplying them to public networks"}]},{"type":"element","tag":"h3","props":{"id":"download-node-and-wallet"},"children":[{"type":"text","value":"Download node and wallet "}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create an empty folder (called dappnet in our examples) and download the binaries for the node and CLI wallet from "},{"type":"element","tag":"a","props":{"href":"https://beam.mw/downloads/dappnet","rel":["nofollow"]},"children":[{"type":"text","value":"beam website"}]}]},{"type":"element","tag":"h3","props":{"id":"initialize-wallet"},"children":[{"type":"text","value":"Initialize wallet "}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First, let's change the wallet configuration file to make everything easy and seamless when we run it later. Edit the beam-wallet.cfg file and set the following flags:"}]},{"type":"element","tag":"pre","props":{"code":"\n# General options:\n################################################################################\n\n# log level [info|debug|verbose]\nlog_level=debug\n\n# file log level [info|debug|verbose]\n# file_log_level=debug\n\n# old logs cleanup period (days)\n# log_cleanup_days=5\n\n################################################################################\n# Wallet options:\n################################################################################\n\n# password for the wallet\npass=123\n\n# phrase to generate secret key according to BIP-39.\n# seed_phrase=\n\n# address of node\nnode_addr=127.0.0.1:8100\n\n# path to wallet file\nwallet_path=wallet.db\n\nMaturity.Coinbase=0\n\n# command to execute [new_addr|send|receive|listen|init|info|export_miner_key|export_owner_key|generate_phrase]\n# command=listen\n\n\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"\n# General options:\n################################################################################\n\n# log level [info|debug|verbose]\nlog_level=debug\n\n# file log level [info|debug|verbose]\n# file_log_level=debug\n\n# old logs cleanup period (days)\n# log_cleanup_days=5\n\n################################################################################\n# Wallet options:\n################################################################################\n\n# password for the wallet\npass=123\n\n# phrase to generate secret key according to BIP-39.\n# seed_phrase=\n\n# address of node\nnode_addr=127.0.0.1:8100\n\n# path to wallet file\nwallet_path=wallet.db\n\nMaturity.Coinbase=0\n\n# command to execute [new_addr|send|receive|listen|init|info|export_miner_key|export_owner_key|generate_phrase]\n# command=listen\n\n\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{% hint style=\"info\" %}\nNote the Maturity.Coinbase=0 flag. It means that you can spend coinbase rewards immediately (unlike the 60 block lockup in mainnet) It is useful for testing in a local environment, since you do not have to wait for your mined rewards to before available\n{% endhint %}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now let's move on to wallet initialization. Run"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"beam-wallet-dappnet.exe init"}]},{"type":"text","value":"  (or ./beam-wallet-dappnet on Mac)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Save the generated seed phase somewhere in a text file ( we might need it later)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now print the owner key by running:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"beam-wallet-dappnet.exe export_owner_key"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And last generate the mining key by running"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"beam-wallet-dappnet.exe export_miner_key --subkey=1"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Save both keys in the same file as the seed phrase"}]},{"type":"element","tag":"h3","props":{"id":"initializing-the-node"},"children":[{"type":"text","value":"Initializing the Node"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Before we start configuring the node, download sample Beam treasury file "},{"type":"element","tag":"a","props":{"href":"https://github.com/BeamMW/beam/blob/master/treasury.bin","rel":["nofollow"]},"children":[{"type":"text","value":"treasury.bin"}]},{"type":"text","value":", and copy it to the same folder as the "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"beam-node"}]},{"type":"text","value":" binary."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now, open beam-node.cfg file in a text editor and set the following flags:"}]},{"type":"element","tag":"pre","props":{"code":"################################################################################\n# General options:\n################################################################################\n\n# port to start server on\nport=8100\n\n# log level [info|debug|verbose]\nlog_level=debug\n\n# file log level [info|debug|verbose]\nfile_log_level=debug\n\n# old logs cleanup period (days)\n# log_cleanup_days=5\n\n################################################################################\n# Node options:\n################################################################################\n\n# node storage path\n# storage=node.db\n\n# nodes to connect to !!! MUST BE EMPTY !!!\n# peer=\n\n# port to start stratum server on\n# stratum_port=0\n\n# path to stratum server api keys file, and tls certificate and private key\n# stratum_secrets_path=.\n\n# Enforce re-synchronization (soft reset)\n# resync=0\n\n# Owner viewer key\nowner_key=<your owner key>\n\n# Standalone miner key\nminer_key=<your miner key>\n\n# password for keys\npass=123\n\n# Fork1 height\n# Fork1=\n\n# Path to treasury for testing\ntreasury_path=treasury.bin\n\n# Enables the node to produce blocks\nmining_threads=1\n\nMaturity.Coinbase=0\n\n\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"################################################################################\n# General options:\n################################################################################\n\n# port to start server on\nport=8100\n\n# log level [info|debug|verbose]\nlog_level=debug\n\n# file log level [info|debug|verbose]\nfile_log_level=debug\n\n# old logs cleanup period (days)\n# log_cleanup_days=5\n\n################################################################################\n# Node options:\n################################################################################\n\n# node storage path\n# storage=node.db\n\n# nodes to connect to !!! MUST BE EMPTY !!!\n# peer=\n\n# port to start stratum server on\n# stratum_port=0\n\n# path to stratum server api keys file, and tls certificate and private key\n# stratum_secrets_path=.\n\n# Enforce re-synchronization (soft reset)\n# resync=0\n\n# Owner viewer key\nowner_key=<your owner key>\n\n# Standalone miner key\nminer_key=<your miner key>\n\n# password for keys\npass=123\n\n# Fork1 height\n# Fork1=\n\n# Path to treasury for testing\ntreasury_path=treasury.bin\n\n# Enables the node to produce blocks\nmining_threads=1\n\nMaturity.Coinbase=0\n\n\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{% hint style=\"warning\" %}"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Make sure to set miner and owner keys to those generated by your wallet"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Make sure peer list is empty (to avoid accidental connections to other nodes)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Check that mining_threads flag is set to 1\n{% endhint %}"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We are now ready to run the node using the command:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"beam-node-dappnet.exe"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sample output should look something like this"}]},{"type":"element","tag":"figure","props":{},"children":[{"type":"element","tag":"img","props":{"src":".gitbook/assets/image.png","alt":""},"children":[]},{"type":"element","tag":"figcaption","props":{},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Wait for about 30 seconds to make sure new blocks are produced. A new block shoud appear every 15 seconds or so"}]},{"type":"element","tag":"figure","props":{},"children":[{"type":"element","tag":"img","props":{"src":".gitbook/assets/image (3).png","alt":""},"children":[]},{"type":"element","tag":"figcaption","props":{},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Synchronizing the wallet"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In another command line (or Terminal) window, run the CLI wallet with the following command:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"beam-wallet-dappnet.exe listen"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This will synchronize the wallet state with the blockchain. Your output should read something like:"}]},{"type":"element","tag":"figure","props":{},"children":[{"type":"element","tag":"img","props":{"src":".gitbook/assets/image (24).png","alt":""},"children":[]},{"type":"element","tag":"figcaption","props":{},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Stop the wallet (by clicking Ctrl + C) and check your current balance by running:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"beam-wallet-dappnet.exe info"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You should see the mined BEAM coins in your wallet "}]},{"type":"element","tag":"figure","props":{},"children":[{"type":"element","tag":"img","props":{"src":".gitbook/assets/image (26).png","alt":""},"children":[]},{"type":"element","tag":"figcaption","props":{},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You now have a local network!"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{% hint style=\"info\" %}\nFor a full reference on Beam CLI wallet see the "},{"type":"element","tag":"a","props":{"href":"https://beamx.gitbook.io/cli-guide/","rel":["nofollow"]},"children":[{"type":"text","value":"CLI Wallet Guide"}]},{"type":"text","value":"\n{% endhint %}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"download-node-and-wallet","depth":3,"text":"Download node and wallet "},{"id":"initialize-wallet","depth":3,"text":"Initialize wallet "},{"id":"initializing-the-node","depth":3,"text":"Initializing the Node"}]}},"_type":"markdown","_id":"content:docs:dev:running-local-blockchain.md","_source":"content","_file":"docs/dev/running-local-blockchain.md","_extension":"md"}
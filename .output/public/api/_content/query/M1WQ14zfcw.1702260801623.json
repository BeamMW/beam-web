{"_path":"/docs/core-tech/lelantus-cli","_dir":"core-tech","_draft":false,"_partial":false,"_locale":"","title":"Lelantus CLI","description":"","body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"v60-changes"},"children":[{"type":"text","value":"V6.0 Changes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Starting from v6.0"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"CLI "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"get_address --offline"}]},{"type":"text","value":" switch is renamed to "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"--offline_count"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"default address generated by the UI is an offline address that includes 1 offline voucher (enables 1 offline payment). This address is equivalent to the "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"get_address --ofline_count 1"}]},{"type":"text","value":" in CLI"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"all "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"offline"}]},{"type":"text","value":" addresses by default trigger an online regular transaction if used in CLI "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"send"}]},{"type":"text","value":" without the "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"--offline"}]},{"type":"text","value":" switch"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"to make an offline payment via the "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"send"}]},{"type":"text","value":" command with the "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"offline"}]},{"type":"text","value":" address the "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"--offline"}]},{"type":"text","value":" switch should be added"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Text below includes the changes described in this section. For CLI instructions before v6.0 refer the "},{"type":"element","tag":"a","props":{"href":"https://github.com/BeamMW/beam/wiki/Lelantus-CLI-(v6.0-)","rel":["nofollow"]},"children":[{"type":"text","value":"Lelantus CLI Historical"}]},{"type":"text","value":" page."}]},{"type":"element","tag":"h2","props":{"id":"overview"},"children":[{"type":"text","value":"Overview"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Conceptually, Lelantus is a mean which allows to avoid UXTO linkability in transactions graph. To make UTXOs unlinked user should insert regular BEAM UTXO into "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"shielded pool"}]},{"type":"text","value":", converting these UTXOs into "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"shielded UTXOs"}]},{"type":"text","value":" and then, after some time extract them back as "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"unlinked"}]},{"type":"text","value":" UTXOs. "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Shielded UTXO"}]},{"type":"text","value":" belonging to the wallet could be detected by the node with owner key (as regular utxo), and the user can use this info to extract these coins back.\nWe are trying to hide the details of this process from the user, extracting from the "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"shielded pool"}]},{"type":"text","value":" is performed automatically when user sends beams, it influences the fee, but the user shouldn't think about unlinking."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To send BEAMs through Lelantus we introduced three types of addresses:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"offline"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"max privacy"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"public offline"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All of these addresses could be used with "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"send"}]},{"type":"text","value":" command and should be passed via "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"-r"}]},{"type":"text","value":" parameter"}]},{"type":"element","tag":"h3","props":{"id":"offline-address"},"children":[{"type":"text","value":"Offline address"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It allows sending BEAMs without interactions with the receiver. It is a very long base58 string, which contains embedded information for 10 payments(in UI), also it has SBBS address of the receiver, so, in the case when the receiver becomes online, the sender could get info for more payments."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To generate this type of address with 10 embedded payments use"}]},{"type":"element","tag":"pre","props":{"code":"./beam-wallet get_address --offline_count=10\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"./beam-wallet get_address --offline_count=10\n"}]}]},{"type":"element","tag":"h3","props":{"id":"max-privacy-address"},"children":[{"type":"text","value":"Max privacy address"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This address allows to make only one payment, there is no ability to get more payments, and there is a guaranty that shielded coins received by sending on this address will be extracted in the correct moment to achieve the max privacy effect.\nTo generate a new max privacy address use"}]},{"type":"element","tag":"pre","props":{"code":"./beam-wallet get_address --max_privacy \n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"./beam-wallet get_address --max_privacy \n"}]}]},{"type":"element","tag":"h3","props":{"id":"public-offline-address"},"children":[{"type":"text","value":"Public offline address"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This type of address is intended to be used to receive donations. It is permanent, relatively short, and provides less privacy comparing with others, the sender has an ability to detect if the sent shielded coin has been spent.\nThis type of address could be obtained with the following command:"}]},{"type":"element","tag":"pre","props":{"code":"./beam-wallet get_address --public_offline \n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"./beam-wallet get_address --public_offline \n"}]}]},{"type":"element","tag":"h2","props":{"id":"offline-payments"},"children":[{"type":"text","value":"Offline payments"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"With Lelantus we are able to without need to be online, this is also known as one-side payments. To make them we need to accomplish the following steps:"}]},{"type":"element","tag":"h3","props":{"id":"receiver"},"children":[{"type":"text","value":"Receiver"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Receiver have to generate a token with the needed quantity of vouchers (allowed number of payments)"},{"type":"element","tag":"pre","props":{"code":"./beam-wallet get_address --offline_count=3 \n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"./beam-wallet get_address --offline_count=3 \n"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Send this token to the sender, and go offline"}]}]},{"type":"element","tag":"h3","props":{"id":"sender"},"children":[{"type":"text","value":"Sender"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Sender can use the received token with the "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"--offline"}]},{"type":"text","value":" switch to make payments as many times as many vouchers this token has. If the "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"--ofline"}]},{"type":"text","value":" switch is not specified, regular online transaction would be executed"},{"type":"element","tag":"pre","props":{"code":"./beam_wallet send -r <token> --offline -n <node address> -a <amount> -f <fee>\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"./beam_wallet send -r <token> --offline -n <node address> -a <amount> -f <fee>\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"receiver-1"},"children":[{"type":"text","value":"Receiver"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Receiver after a while should check if he has "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"shielded UTXOs"}]},{"type":"element","tag":"pre","props":{"code":"./beam_wallet info\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"./beam_wallet info\n"}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"the shielded coins has type "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"shld"}]},{"type":"element","tag":"pre","props":{"code":"|    ID |           BEAM |          GROTH | Maturity           | Status               | Type     |\n   14724               34                0   95849                [Spent]                shld\n   14725                7                0   95873                [Spent]                shld\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"|    ID |           BEAM |          GROTH | Maturity           | Status               | Type     |\n   14724               34                0   95849                [Spent]                shld\n   14725                7                0   95873                [Spent]                shld\n"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Also a new transaction record should appear with status "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"received max privacy"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"received offline"}]},{"type":"text","value":" or "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"received public offline"}]},{"type":"text","value":", depending od what address type was used"},{"type":"element","tag":"pre","props":{"code":"./beam_wallet info --tx_history\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"./beam_wallet info --tx_history\n"}]}]},{"type":"element","tag":"pre","props":{"code":"2020.11.14 12:52:22    incoming                                     5   received offline        c714875164c8444cb12f90c4353fa1f6\n2020.10.30 18:13:22    incoming                                     1   received max privacy    7a6dbf11fa6649e39992c41c349ab6ad\n2020.10.30 17:57:22    incoming                                     4   received max privacy    d5f1b5acee474b4cb187321431040306\n2020.10.30 11:15:22    incoming                                     2   received public offline\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"2020.11.14 12:52:22    incoming                                     5   received offline        c714875164c8444cb12f90c4353fa1f6\n2020.10.30 18:13:22    incoming                                     1   received max privacy    7a6dbf11fa6649e39992c41c349ab6ad\n2020.10.30 17:57:22    incoming                                     4   received max privacy    d5f1b5acee474b4cb187321431040306\n2020.10.30 11:15:22    incoming                                     2   received public offline\n"}]}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"v60-changes","depth":2,"text":"V6.0 Changes"},{"id":"overview","depth":2,"text":"Overview","children":[{"id":"offline-address","depth":3,"text":"Offline address"},{"id":"max-privacy-address","depth":3,"text":"Max privacy address"},{"id":"public-offline-address","depth":3,"text":"Public offline address"}]},{"id":"offline-payments","depth":2,"text":"Offline payments","children":[{"id":"receiver","depth":3,"text":"Receiver"},{"id":"sender","depth":3,"text":"Sender"},{"id":"receiver-1","depth":3,"text":"Receiver"}]}]}},"_type":"markdown","_id":"content:docs:core-tech:Lelantus-CLI.md","_source":"content","_file":"docs/core-tech/Lelantus-CLI.md","_extension":"md"}
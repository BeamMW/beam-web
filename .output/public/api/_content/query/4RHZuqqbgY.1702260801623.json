[{"_path":"/docs/dev/shader-sdk-mac","_dir":"dev","_draft":false,"_partial":false,"_locale":"","title":"Shader SDK (MAC)","description":"In this tutorial we will show how to setup Beam Shader SDK on Mac OS","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"shader-sdk-mac"},"children":[{"type":"text","value":"Shader SDK (MAC)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this tutorial we will show how to setup Beam Shader SDK on Mac OS"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{% hint style=\"warning\" %}\nThe Shader SDK's current version can be characterized as an "},{"type":"element","tag":"em","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"early developer preview"}]}]},{"type":"text","value":", with a high possibility of encountering unusual issues and bugs.\n{% endhint %}"}]},{"type":"element","tag":"h3","props":{"id":"prerequisites"},"children":[{"type":"text","value":"Prerequisites"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You will  need a Python 3.x installed and available in the path (check by typing 'python' in the command line)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In addition, you will need XCode Command line tools. The command to install those is:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"xcode-select --install"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"But please consult with official documentation for more details."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You will also need the following packages (I used brew to install those):"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"brew install openssl cmake ninja"}]},{"type":"text","value":"\\"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Also, set the OPENSSL_ROOT_DIR environment variable as follows:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"export OPENSSL_ROOT_DIR=\"/usr/local/opt/openssl@1.1\""}]}]},{"type":"element","tag":"h3","props":{"id":"building-shader-sdk"},"children":[{"type":"text","value":"Building Shader SDK"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Clone Shader SDK repository from here: "},{"type":"element","tag":"a","props":{"href":"https://github.com/BeamMW/shader-sdk","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/BeamMW/shader-sdk"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Open the Terminal application"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Change directory to the location of the shader-sdk and run: "}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"./shade init"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This will operation will install and build all the necessary components."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{% hint style=\"warning\" %}\nHere comes a small song and dance part that has to do with the fact that shader-sdk is still very raw"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Inside the shader-sdk folder create a 'bin' folder"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Copy shader-sdk/build/host/beam/bvm/sid_generator/generate-sid to the newly created bin folder\n{% endhint %}"}]}]},{"type":"element","tag":"h3","props":{"id":"creating-a-new-shader-project"},"children":[{"type":"text","value":"Creating a new Shader Project"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Open a Terminal and create a new folder for your Shader project. We will use 'vault' in our example"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2. Set the following environment variables to point to the location of you shader-sdk and wasi-sdk:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"export BEAM_SHADER_SDK=~/Code/shader-sdk"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"export WASI_SDK_PREFIX=~/Code/shader-sdk/wasi-sdk-14.0"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"3. Run the following command: "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"shade create_project <project name>"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In our case:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"~/Code/shader-sdk/shade create_project vault"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{% hint style=\"warning\" %}\n"},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"Here comes another issue. Your Mac is very likely to warn you about the fact that generate-sid application was not created by a certified developer"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":".gitbook/assets/Screen%20Shot%202022-11-19%20at%2014.27.00%20(1).png"},"children":[]},{"type":"text","value":"\n{% endhint %}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{% hint style=\"warning\" %}\n"},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"To avoid this you will need to allow running this script anyway from the Settings -> Security & Privacy dialogue and then rerunning the command"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":".gitbook/assets/Screen%20Shot%202022-11-19%20at%2014.27.55.png"},"children":[]},{"type":"text","value":"\n{% endhint %}"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This will initialize the structure of the Shader project"}]},{"type":"element","tag":"h3","props":{"id":"building-the-shader-project"},"children":[{"type":"text","value":"Building the Shader Project"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Inside the project folder run the following command:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"cmake -G \"Ninja\" -DCMAKE_BUILD_TYPE=Release -DCMAKE_TOOLCHAIN_FILE=$WASI_SDK_PREFIX/share/cmake/wasi-sdk.cmake -DCMAKE_SYSROOT=$WASI_SDK_PREFIX/share/wasi-sysroot -DWASI_SDK_PREFIX=$WASI_SDK_PREFIX -DCMAKE_CXX_COMPILER_FORCED=True -DCMAKE_C_COMPILER_FORCED=True -DCMAKE_SYSTEM_NAME=\"WASI\""}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Then run:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"ninja"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And the .wasm files with compiled contracts will be generated in the /shaders folder"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now you are ready to start coding your Shader!"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"prerequisites","depth":3,"text":"Prerequisites"},{"id":"building-shader-sdk","depth":3,"text":"Building Shader SDK"},{"id":"creating-a-new-shader-project","depth":3,"text":"Creating a new Shader Project"},{"id":"building-the-shader-project","depth":3,"text":"Building the Shader Project"}]}},"_type":"markdown","_id":"content:docs:dev:shader-sdk-mac.md","_source":"content","_file":"docs/dev/shader-sdk-mac.md","_extension":"md"}]
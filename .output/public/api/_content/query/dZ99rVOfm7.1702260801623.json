[{"_path":"/docs/cli/laser-beam-cli-user-guide","_dir":"cli","_draft":false,"_partial":false,"_locale":"","title":"Laser Beam CLI User Guide","description":"Laser Beam is a direct link (or \"channel\") between two Beam wallets that allows instant payments. Laser Beam is not available on Desktop or Mobile wallets.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"laser-beam-cli-user-guide"},"children":[{"type":"text","value":"Laser Beam CLI User Guide"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To perform an instant transaction, both parties must submit Beam coins to an open Laser Channel. The coins will remain locked while the channel is open, only committing the channel's last state to the blockchain when Laser Channel is closed, thus, completing the payment."}]},{"type":"element","tag":"h2","props":{"id":"create-a-laser-channel"},"children":[{"type":"text","value":"Create a Laser Channel"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{% hint style=\"info\" %}\n"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"The"},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"laser_fee"}]},{"type":"text","value":"for both parties is 100 Groth's."}]},{"type":"text","value":" "}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Both the Sender and Receiver must agree on the"},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"locked_amount"}]},{"type":"text","value":"to perform an instant payment.\n{% endhint %}"}]},{"type":"element","tag":"h3","props":{"id":"opening-a-laser-channel-between-two-wallets"},"children":[{"type":"text","value":"Opening a Laser Channel between two wallets"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using Alice and Bob as an example, let's go over setting up a direct channel between two wallets."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create a channel, Alice enters the following command:"}]},{"type":"element","tag":"pre","props":{"code":"$ ./beam-wallet laser --laser_receive --laser_my_locked_amount <amount in beam> --laser_remote_locked_amount <amount in beam> --laser_fee <amount in groth>\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"$ ./beam-wallet laser --laser_receive --laser_my_locked_amount <amount in beam> --laser_remote_locked_amount <amount in beam> --laser_fee <amount in groth>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The output will generate a channel address that Alice can send to Bob, it should be similar to the following:"}]},{"type":"element","tag":"pre","props":{"code":"I 2020-06-04.13:23:35.342 Beam Wallet\nI 2020-06-04.13:23:35.343 Rules signature: 0-5547a592195f4cd4, 10-2fdbbbb74ac57c55, 20-67131c58aa9a6b85\nEnter password: *\nI 2020-06-04.13:23:36.039 wallet sucessfully opened...\nI 2020-06-04.13:23:36.260 New address generated:\n\n333133cddf316e40f3352e9dae6bae568e97052c1b73531b263a695170658cd13e6\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"I 2020-06-04.13:23:35.342 Beam Wallet\nI 2020-06-04.13:23:35.343 Rules signature: 0-5547a592195f4cd4, 10-2fdbbbb74ac57c55, 20-67131c58aa9a6b85\nEnter password: *\nI 2020-06-04.13:23:36.039 wallet sucessfully opened...\nI 2020-06-04.13:23:36.260 New address generated:\n\n333133cddf316e40f3352e9dae6bae568e97052c1b73531b263a695170658cd13e6\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using the channel address he received from Alice, Bob will insert the channel address right after "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"laser_address"}]},{"type":"text","value":", entering the following command:"}]},{"type":"element","tag":"pre","props":{"code":"$ ./beam-wallet laser --laser_open --laser_address <address> --laser_my_locked_amount <amount in beam> --laser_remote_locked_amount <amount in beam> --laser_fee <amount in groth>\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"$ ./beam-wallet laser --laser_open --laser_address <address> --laser_my_locked_amount <amount in beam> --laser_remote_locked_amount <amount in beam> --laser_fee <amount in groth>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If Bob incorrectly entered the values previous command, then Alice will receive an “"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Incoming connection with incorrect…"}]},{"type":"text","value":"” message on her wallet."}]},{"type":"element","tag":"h3","props":{"id":"how-it-will-look-in-alices-wallet"},"children":[{"type":"text","value":"How it will look in Alice's wallet"}]},{"type":"element","tag":"pre","props":{"code":"$ ./beam-wallet-masternet.exe laser --laser_receive --laser_my_locked_amount 1 --laser_remote_locked_amount 2 --laser_fee 100 -n 127.0.0.1:1000\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"$ ./beam-wallet-masternet.exe laser --laser_receive --laser_my_locked_amount 1 --laser_remote_locked_amount 2 --laser_fee 100 -n 127.0.0.1:1000\n"}]}]},{"type":"element","tag":"h4","props":{"id":"open-laser-channel"},"children":[{"type":"text","value":"Open Laser Channel"}]},{"type":"element","tag":"pre","props":{"code":"Laser Channels:\nchannel Id                        |aMy    |aTrg     |state     |fee       |valid till\n7a0f1a491fe95f3fe453a298dd62ba12  |1      |2        |Open      |0.000001  |55966\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Laser Channels:\nchannel Id                        |aMy    |aTrg     |state     |fee       |valid till\n7a0f1a491fe95f3fe453a298dd62ba12  |1      |2        |Open      |0.000001  |55966\n"}]}]},{"type":"element","tag":"h3","props":{"id":"how-it-will-look-in-bobs-wallet"},"children":[{"type":"text","value":"How it will look in Bob's wallet"}]},{"type":"element","tag":"pre","props":{"code":"$ ./beam-wallet laser --laser_open --laser_address 333133cddf316e40f3352e9dae6bae568e97052c1b73531b263a695170658cd13e6 --laser_my_locked_amount 2 --laser_remote_locked_amount 1 --laser_fee 100 -n 127.0.0.1:1000\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"$ ./beam-wallet laser --laser_open --laser_address 333133cddf316e40f3352e9dae6bae568e97052c1b73531b263a695170658cd13e6 --laser_my_locked_amount 2 --laser_remote_locked_amount 1 --laser_fee 100 -n 127.0.0.1:1000\n"}]}]},{"type":"element","tag":"h4","props":{"id":"open-laser-channel-1"},"children":[{"type":"text","value":"Open Laser Channel"}]},{"type":"element","tag":"pre","props":{"code":"Laser Channels:\nchannel Id                        |aMy    |aTrg     |state     |fee       |valid till\n7a0f1a491fe95f3fe453a298dd62ba12  |2      |1        |Open      |0.000001  |55966\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Laser Channels:\nchannel Id                        |aMy    |aTrg     |state     |fee       |valid till\n7a0f1a491fe95f3fe453a298dd62ba12  |2      |1        |Open      |0.000001  |55966\n"}]}]},{"type":"element","tag":"h2","props":{"id":"sending-beam"},"children":[{"type":"text","value":"Sending Beam"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now that Alice and Bob have established a Laser Channel between their wallets, they can send direct payments"}]},{"type":"element","tag":"h3","props":{"id":"establish-laser-channel-connection"},"children":[{"type":"text","value":"Establish Laser Channel connection"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"laser_listen"}]},{"type":"text","value":", Bob will confirm that the channel ID is open by entering the following command: "}]},{"type":"element","tag":"pre","props":{"code":"$ ./beam-wallet laser --laser_listen [channel id 1,channel id 2, ... channel id N]\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"$ ./beam-wallet laser --laser_listen [channel id 1,channel id 2, ... channel id N]\n"}]}]},{"type":"element","tag":"h3","props":{"id":"send-a-direct-payment"},"children":[{"type":"text","value":"Send a direct payment"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To send her Beam coins to Bob, Alice will enter the following command:"}]},{"type":"element","tag":"pre","props":{"code":"$ ./beam-wallet-masternet laser --laser_send <amount in beam> --laser_channel <channel id>\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"$ ./beam-wallet-masternet laser --laser_send <amount in beam> --laser_channel <channel id>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"After sending the payment, Alice will receive a message about changing her channel balance."}]},{"type":"element","tag":"h3","props":{"id":"how-it-will-look-in-alices-wallet-1"},"children":[{"type":"text","value":"How it will look in Alice's wallet"}]},{"type":"element","tag":"h4","props":{"id":"sending-bob-beam-coins"},"children":[{"type":"text","value":"Sending Bob Beam coins"}]},{"type":"element","tag":"pre","props":{"code":"$ ./beam-wallet laser --laser_send 0.2 --laser_channel 7a0f1a491fe95f3fe453a298dd62ba12 -n 127.0.0.1:1000\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"$ ./beam-wallet laser --laser_send 0.2 --laser_channel 7a0f1a491fe95f3fe453a298dd62ba12 -n 127.0.0.1:1000\n"}]}]},{"type":"element","tag":"h4","props":{"id":"payment-sent-and-changing-channel-balance"},"children":[{"type":"text","value":"Payment Sent and changing channel balance"}]},{"type":"element","tag":"pre","props":{"code":"D 2020-06-04.14:19:35.166 ### Bbs mesage out ###\nD 2020-06-04.14:19:35.166 Channel:7a0f1a491fe95f3fe453a298dd62ba12 state Open. Last Revision: 2. My balance: 220000000 / Total balance: 300000000\nD 2020-06-04.14:19:35.167 Save channel: 7a0f1a491fe95f3fe453a298dd62ba12\nI 2020-06-04.14:19:35.200 Update finished: 7a0f1a491fe95f3fe453a298dd62ba12\nD 2020-06-04.14:19:35.487 OnMined() diff: 0\nD 2020-06-04.14:19:35.488 Receiver::OnComplete\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"D 2020-06-04.14:19:35.166 ### Bbs mesage out ###\nD 2020-06-04.14:19:35.166 Channel:7a0f1a491fe95f3fe453a298dd62ba12 state Open. Last Revision: 2. My balance: 220000000 / Total balance: 300000000\nD 2020-06-04.14:19:35.167 Save channel: 7a0f1a491fe95f3fe453a298dd62ba12\nI 2020-06-04.14:19:35.200 Update finished: 7a0f1a491fe95f3fe453a298dd62ba12\nD 2020-06-04.14:19:35.487 OnMined() diff: 0\nD 2020-06-04.14:19:35.488 Receiver::OnComplete\n"}]}]},{"type":"element","tag":"h3","props":{"id":"how-it-will-look-in-bobs-wallet-1"},"children":[{"type":"text","value":"How it will look in Bob's wallet"}]},{"type":"element","tag":"h4","props":{"id":"verifying-channel-id"},"children":[{"type":"text","value":"Verifying Channel ID"}]},{"type":"element","tag":"pre","props":{"code":"$ ./beam-wallet laser --laser_listen 7a0f1a491fe95f3fe453a298dd62ba12 -n 127.0.0.1:1000»\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"$ ./beam-wallet laser --laser_listen 7a0f1a491fe95f3fe453a298dd62ba12 -n 127.0.0.1:1000»\n"}]}]},{"type":"element","tag":"h4","props":{"id":"payment-received"},"children":[{"type":"text","value":"Payment received"}]},{"type":"element","tag":"pre","props":{"code":"D 2020-06-04.14:19:35.166 ### Bbs mesage out ###\nD 2020-06-04.14:19:35.166 Channel:7a0f1a491fe95f3fe453a298dd62ba12 state Open. Last Revision: 2. My balance: 220000000 / Total balance: 300000000\nD 2020-06-04.14:19:35.167 Save channel: 7a0f1a491fe95f3fe453a298dd62ba12\nI 2020-06-04.14:19:35.200 Update finished: 7a0f1a491fe95f3fe453a298dd62ba12\nD 2020-06-04.14:19:35.487 OnMined() diff: 0\nD 2020-06-04.14:19:35.488 Receiver::OnComplete\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"D 2020-06-04.14:19:35.166 ### Bbs mesage out ###\nD 2020-06-04.14:19:35.166 Channel:7a0f1a491fe95f3fe453a298dd62ba12 state Open. Last Revision: 2. My balance: 220000000 / Total balance: 300000000\nD 2020-06-04.14:19:35.167 Save channel: 7a0f1a491fe95f3fe453a298dd62ba12\nI 2020-06-04.14:19:35.200 Update finished: 7a0f1a491fe95f3fe453a298dd62ba12\nD 2020-06-04.14:19:35.487 OnMined() diff: 0\nD 2020-06-04.14:19:35.488 Receiver::OnComplete\n"}]}]},{"type":"element","tag":"h2","props":{"id":"view-open-laser-channels"},"children":[{"type":"text","value":"View open Laser Channels"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To print out a list of all open Laser Channels and channel details, enter the following command:"}]},{"type":"element","tag":"pre","props":{"code":"./beam-wallet laser --laser_channels_list \n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"./beam-wallet laser --laser_channels_list \n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The ouput should be similar to following:"}]},{"type":"element","tag":"pre","props":{"code":"Laser Channels:\n\nchannel Id                        |aMy       |aT        |state     |fee       |valid till\n7a0f1a491fe95f3fe453a298dd62ba12  |2.2       |0.8       |Open      |0.000001  |57464\nb9236abe78ab5747ca955189df079d2b  |1.0000005 |1.0000005 |Closed    |0.000001  |0\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Laser Channels:\n\nchannel Id                        |aMy       |aT        |state     |fee       |valid till\n7a0f1a491fe95f3fe453a298dd62ba12  |2.2       |0.8       |Open      |0.000001  |57464\nb9236abe78ab5747ca955189df079d2b  |1.0000005 |1.0000005 |Closed    |0.000001  |0\n"}]}]},{"type":"element","tag":"h2","props":{"id":"closing-and-deleting-a-channel"},"children":[{"type":"text","value":"Closing and deleting a Channel"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"While both users must be online when first creating a Laser Channel, users have multiple options for closing an open channel."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Continuing with our examples of Bob and Alice, we will go over closing a Laser Beam Channel."}]},{"type":"element","tag":"h3","props":{"id":"closing-a-channel-when-both-parties-online"},"children":[{"type":"text","value":"Closing a channel when both parties online"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using"},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"laser_listen"}]},{"type":"text","value":" Bob will check the channel ID's current state. Bob enters the following command:"}]},{"type":"element","tag":"pre","props":{"code":"$ ./beam-wallet laser --laser_listen 7a0f1a491fe95f3fe453a298dd62ba12 -n 127.0.0.1:1000\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"$ ./beam-wallet laser --laser_listen 7a0f1a491fe95f3fe453a298dd62ba12 -n 127.0.0.1:1000\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To close the channel, Alice will enter the following command:"}]},{"type":"element","tag":"pre","props":{"code":"$ ./beam-wallet laser --laser_close 7a0f1a491fe95f3fe453a298dd62ba12 -n 127.0.0.1:1000\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"$ ./beam-wallet laser --laser_close 7a0f1a491fe95f3fe453a298dd62ba12 -n 127.0.0.1:1000\n"}]}]},{"type":"element","tag":"h3","props":{"id":"closing-a-channel-when-only-one-party-is-online"},"children":[{"type":"text","value":"Closing a channel when only one party is online"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Bob and Alice have agreed to close the open Laser Beam Channel but Bob's internet connection can be unreliable, and is often offline fordays at a time. "}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Alice can close the open channel without Bob by entering following command:"}]},{"type":"element","tag":"pre","props":{"code":"$ ./beam-wallet laser --laser_drop 7a0f1a491fe95f3fe453a298dd62ba12 -n 127.0.0.1:1000\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"$ ./beam-wallet laser --laser_drop 7a0f1a491fe95f3fe453a298dd62ba12 -n 127.0.0.1:1000\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"{% hint style=\"danger\" %}\n"},{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"laser_close"}]},{"type":"text","value":"and"},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"laser_drop"}]},{"type":"text","value":"commands only closes the connection between the two Beam wallets."}]},{"type":"text","value":" "}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Laser Beam Channels with \"Closed\" status are deletable after 24 hours or 1440 blocks."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Channels with \"Waiting\" or \"OpenFailed\" status are ready for immediate deletion. To delete the Laser Beam Channel, follow the steps below"}]},{"type":"text","value":":\n{% endhint %}"}]},{"type":"element","tag":"h3","props":{"id":"delete-closed-laser-beam-channel"},"children":[{"type":"text","value":"Delete closed Laser Beam Channel"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To delete a channel from your wallet database, enter the following command:"}]},{"type":"element","tag":"pre","props":{"code":" ./beam-wallet-masternet laser --laser_delete <channel id 1,channel id 2, ... channel id N\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":" ./beam-wallet-masternet laser --laser_delete <channel id 1,channel id 2, ... channel id N\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Alice deletes the Laser Beam Channel from her"},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"wallet.db"}]},{"type":"text","value":"file by entering:"}]},{"type":"element","tag":"pre","props":{"code":"$ ./beam-wallet laser --laser_delete 7a0f1a491fe95f3fe453a298dd62ba12 -n 127.0.0.1:1000\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"$ ./beam-wallet laser --laser_delete 7a0f1a491fe95f3fe453a298dd62ba12 -n 127.0.0.1:1000\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"create-a-laser-channel","depth":2,"text":"Create a Laser Channel","children":[{"id":"opening-a-laser-channel-between-two-wallets","depth":3,"text":"Opening a Laser Channel between two wallets"},{"id":"how-it-will-look-in-alices-wallet","depth":3,"text":"How it will look in Alice's wallet"},{"id":"how-it-will-look-in-bobs-wallet","depth":3,"text":"How it will look in Bob's wallet"}]},{"id":"sending-beam","depth":2,"text":"Sending Beam","children":[{"id":"establish-laser-channel-connection","depth":3,"text":"Establish Laser Channel connection"},{"id":"send-a-direct-payment","depth":3,"text":"Send a direct payment"},{"id":"how-it-will-look-in-alices-wallet-1","depth":3,"text":"How it will look in Alice's wallet"},{"id":"how-it-will-look-in-bobs-wallet-1","depth":3,"text":"How it will look in Bob's wallet"}]},{"id":"view-open-laser-channels","depth":2,"text":"View open Laser Channels"},{"id":"closing-and-deleting-a-channel","depth":2,"text":"Closing and deleting a Channel","children":[{"id":"closing-a-channel-when-both-parties-online","depth":3,"text":"Closing a channel when both parties online"},{"id":"closing-a-channel-when-only-one-party-is-online","depth":3,"text":"Closing a channel when only one party is online"},{"id":"delete-closed-laser-beam-channel","depth":3,"text":"Delete closed Laser Beam Channel"}]}]}},"_type":"markdown","_id":"content:docs:cli:laser-beam-cli-user-guide.md","_source":"content","_file":"docs/cli/laser-beam-cli-user-guide.md","_extension":"md"}]
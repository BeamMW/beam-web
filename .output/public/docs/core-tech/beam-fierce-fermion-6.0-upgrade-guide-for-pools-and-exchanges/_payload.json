[{"data":1,"prerenderedAt":572},["Reactive",2],{"content-query-maE4GvnjK1":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"body":10,"_type":567,"_id":568,"_source":569,"_file":570,"_extension":571},"/docs/core-tech/beam-fierce-fermion-6.0-upgrade-guide-for-pools-and-exchanges","core-tech",false,"","Beam Fierce Fermion 6.0 Upgrade Guide for pools and exchanges","Beam Fierce Fermion 6.0 includes breaking Hard Fork that will be activated on height 1,280,000 (around 15:30 UTC, 13th of June 2021). It is important to complete all upgrade before that date.",{"type":11,"children":12,"toc":562},"root",[13,21,26,33,176,182,191,209],{"type":14,"tag":15,"props":16,"children":18},"element","h1",{"id":17},"beam-fierce-fermion-60-upgrade-guide-for-pools-and-exchanges",[19],{"type":20,"value":8},"text",{"type":14,"tag":22,"props":23,"children":24},"p",{},[25],{"type":20,"value":9},{"type":14,"tag":27,"props":28,"children":30},"h2",{"id":29},"what-new-in-version-60",[31],{"type":20,"value":32},"What new in version 6.0",{"type":14,"tag":34,"props":35,"children":36},"ol",{},[37,43,57,90,122,136],{"type":14,"tag":38,"props":39,"children":40},"li",{},[41],{"type":20,"value":42},"Smart contracts.",{"type":14,"tag":38,"props":44,"children":45},{},[46,48],{"type":20,"value":47},"Confidential Assets support in wallet API. Read more ",{"type":14,"tag":49,"props":50,"children":54},"a",{"href":51,"rel":52},"https://github.com/BeamMW/beam/wiki/Adding-support-for-Beam-Confidential-Asset",[53],"nofollow",[55],{"type":20,"value":56},"here",{"type":14,"tag":38,"props":58,"children":59},{},[60,62,76,80,82,88],{"type":20,"value":61},"New types of transaction are available in the wallet API:",{"type":14,"tag":63,"props":64,"children":65},"ul",{},[66,71],{"type":14,"tag":38,"props":67,"children":68},{},[69],{"type":20,"value":70},"Maximum privacy transaction",{"type":14,"tag":38,"props":72,"children":73},{},[74],{"type":20,"value":75},"Offline transaction",{"type":14,"tag":77,"props":78,"children":79},"br",{},[],{"type":20,"value":81},"In order to receive these transactions, there are no need to make any changes in code, but your wallet should be connected to the node with ",{"type":14,"tag":83,"props":84,"children":85},"code",{"className":7},[86],{"type":20,"value":87},"owner_key",{"type":20,"value":89},". If you want to send them you have to explicitly enable them in the wallet, and distinguish new address types.",{"type":14,"tag":38,"props":91,"children":92},{},[93,95],{"type":20,"value":94},"New address types in wallet API. We highly recommend to use these new addresses, this should bring better user experience both for sending and receiving. For backward compatibility, we preserved old address type.\nThe difference between new addresses and old are the following",{"type":14,"tag":63,"props":96,"children":97},{},[98,117],{"type":14,"tag":38,"props":99,"children":100},{},[101,103,108,110,115],{"type":20,"value":102},"new addresses are ",{"type":14,"tag":83,"props":104,"children":105},{"className":7},[106],{"type":20,"value":107},"base58",{"type":20,"value":109}," encoded and have relatively long, old addresses are ",{"type":14,"tag":83,"props":111,"children":112},{"className":7},[113],{"type":20,"value":114},"hex",{"type":20,"value":116}," encoded and have length 64-67 characters",{"type":14,"tag":38,"props":118,"children":119},{},[120],{"type":20,"value":121},"new addresses can hold additional data for transaction, this allows us to make new type of transactions mentioned before and add more when it will be needed",{"type":14,"tag":38,"props":123,"children":124},{},[125,127],{"type":20,"value":126},"Starting from 6.0 Beam address should be validated using the following regular expression:",{"type":14,"tag":128,"props":129,"children":131},"pre",{"code":130},"/[0-9a-zA-Z]{64,500}/\n",[132],{"type":14,"tag":83,"props":133,"children":134},{"__ignoreMap":7},[135],{"type":20,"value":130},{"type":14,"tag":38,"props":137,"children":138},{},[139,141],{"type":20,"value":140},"Minimal fee has changed",{"type":14,"tag":63,"props":142,"children":143},{},[144,157],{"type":14,"tag":38,"props":145,"children":146},{},[147,149,155],{"type":20,"value":148},"For the ",{"type":14,"tag":150,"props":151,"children":152},"em",{},[153],{"type":20,"value":154},"regular",{"type":20,"value":156}," transaction has been increased up to 100,000 Groth",{"type":14,"tag":38,"props":158,"children":159},{},[160,162,167,169,174],{"type":20,"value":161},"For ",{"type":14,"tag":150,"props":163,"children":164},{},[165],{"type":20,"value":166},"offline",{"type":20,"value":168}," and ",{"type":14,"tag":150,"props":170,"children":171},{},[172],{"type":20,"value":173},"max privacy",{"type":20,"value":175}," transaction it became 1,100,000 Groth (+1,000,000 Groth for each shielded output)",{"type":14,"tag":27,"props":177,"children":179},{"id":178},"upgrading-the-node-and-the-wallet",[180],{"type":20,"value":181},"Upgrading the node and the wallet",{"type":14,"tag":183,"props":184,"children":185},"blockquote",{},[186],{"type":14,"tag":22,"props":187,"children":188},{},[189],{"type":20,"value":190},"IMPORTANT",{"type":14,"tag":22,"props":192,"children":193},{},[194,196,201,202,207],{"type":20,"value":195},"Before starting the upgrade procedure it is highly recommended to stop the wallets and back up the ",{"type":14,"tag":150,"props":197,"children":198},{},[199],{"type":20,"value":200},"wallet.db",{"type":20,"value":168},{"type":14,"tag":150,"props":203,"children":204},{},[205],{"type":20,"value":206},"node.db",{"type":20,"value":208}," files.",{"type":14,"tag":34,"props":210,"children":211},{},[212,233,244,441,458,518],{"type":14,"tag":38,"props":213,"children":214},{},[215,217,224,226],{"type":20,"value":216},"Download the new binaries from ",{"type":14,"tag":49,"props":218,"children":221},{"href":219,"rel":220},"https://beam.mw/downloads",[53],[222],{"type":20,"value":223},"Beam Website",{"type":20,"value":225}," or build from ",{"type":14,"tag":49,"props":227,"children":230},{"href":228,"rel":229},"https://github.com/BeamMW/beam/tree/mainnet",[53],[231],{"type":20,"value":232},"source",{"type":14,"tag":38,"props":234,"children":235},{},[236,242],{"type":14,"tag":49,"props":237,"children":239},{"href":51,"rel":238},[53],[240],{"type":20,"value":241},"Enable",{"type":20,"value":243}," CA support if needed",{"type":14,"tag":38,"props":245,"children":246},{},[247,249,254,256,259,264,275,399,402,404,408,410,413,415,419,421,425,427,432],{"type":20,"value":248},"Update address verification. Now, ",{"type":14,"tag":83,"props":250,"children":251},{"className":7},[252],{"type":20,"value":253},"validate_address",{"type":20,"value":255}," method returns additional info about address:",{"type":14,"tag":77,"props":257,"children":258},{},[],{"type":14,"tag":83,"props":260,"children":261},{"className":7},[262],{"type":20,"value":263},"\u003C--",{"type":14,"tag":128,"props":265,"children":270},{"code":266,"language":267,"meta":7,"className":268},"{\n    \"jsonrpc\":\"2.0\", \n    \"id\": 1,\n    \"result\" : \n    {\n        \"is_valid\" : true,\n        \"is_mine\" : false,\n        \"type\": \"offline\",  // \u003C---------- NEW\n        \"payments\": 3       // \u003C---------- NEW\n    }\n}\n","json",[269],"language-json",[271],{"type":14,"tag":83,"props":272,"children":273},{"__ignoreMap":7},[274],{"type":20,"value":266},{"type":14,"tag":63,"props":276,"children":277},{},[278,383],{"type":14,"tag":38,"props":279,"children":280},{},[281,286,288],{"type":14,"tag":83,"props":282,"children":283},{"className":7},[284],{"type":20,"value":285},"type",{"type":20,"value":287}," the type of address, possible values are",{"type":14,"tag":63,"props":289,"children":290},{},[291,306,327,348,368],{"type":14,"tag":38,"props":292,"children":293},{},[294,298,300,304],{"type":14,"tag":83,"props":295,"children":296},{"className":7},[297],{"type":20,"value":154},{"type":20,"value":299}," - regular old-style ",{"type":14,"tag":83,"props":301,"children":302},{"className":7},[303],{"type":20,"value":114},{"type":20,"value":305}," encoded address, default",{"type":14,"tag":38,"props":307,"children":308},{},[309,313,315,319,321,325],{"type":14,"tag":83,"props":310,"children":311},{"className":7},[312],{"type":20,"value":166},{"type":20,"value":314}," - new-style ",{"type":14,"tag":83,"props":316,"children":317},{"className":7},[318],{"type":20,"value":107},{"type":20,"value":320}," encoded address for ",{"type":14,"tag":150,"props":322,"children":323},{},[324],{"type":20,"value":166},{"type":20,"value":326}," transaction, could be used several times, it has no strong guaranties for privacy",{"type":14,"tag":38,"props":328,"children":329},{},[330,335,336,340,341,346],{"type":14,"tag":83,"props":331,"children":332},{"className":7},[333],{"type":20,"value":334},"max_privacy",{"type":20,"value":314},{"type":14,"tag":83,"props":337,"children":338},{"className":7},[339],{"type":20,"value":107},{"type":20,"value":320},{"type":14,"tag":150,"props":342,"children":343},{},[344],{"type":20,"value":345},"maximum privacy",{"type":20,"value":347}," transaction, could be used once",{"type":14,"tag":38,"props":349,"children":350},{},[351,356,357,361,362,366],{"type":14,"tag":83,"props":352,"children":353},{"className":7},[354],{"type":20,"value":355},"public_offline",{"type":20,"value":314},{"type":14,"tag":83,"props":358,"children":359},{"className":7},[360],{"type":20,"value":107},{"type":20,"value":320},{"type":14,"tag":150,"props":363,"children":364},{},[365],{"type":20,"value":166},{"type":20,"value":367}," transaction, it's constant, it provided less privacy, you could publish it, designed for donations",{"type":14,"tag":38,"props":369,"children":370},{},[371,376,377,381],{"type":14,"tag":83,"props":372,"children":373},{"className":7},[374],{"type":20,"value":375},"regular_new",{"type":20,"value":314},{"type":14,"tag":83,"props":378,"children":379},{"className":7},[380],{"type":20,"value":107},{"type":20,"value":382}," encoded address for regular mimblewimble transaction",{"type":14,"tag":38,"props":384,"children":385},{},[386,391,393,397],{"type":14,"tag":83,"props":387,"children":388},{"className":7},[389],{"type":20,"value":390},"payments",{"type":20,"value":392}," - the number of payments left in case of ",{"type":14,"tag":83,"props":394,"children":395},{"className":7},[396],{"type":20,"value":166},{"type":20,"value":398}," address",{"type":14,"tag":77,"props":400,"children":401},{},[],{"type":20,"value":403},"If you don't want to support newer type of transactions you could simply allow ",{"type":14,"tag":83,"props":405,"children":406},{"className":7},[407],{"type":20,"value":154},{"type":20,"value":409}," addresses.",{"type":14,"tag":77,"props":411,"children":412},{},[],{"type":20,"value":414},"NOTE: ",{"type":14,"tag":83,"props":416,"children":417},{"className":7},[418],{"type":20,"value":166},{"type":20,"value":420}," address has all the data to make ",{"type":14,"tag":150,"props":422,"children":423},{},[424],{"type":20,"value":154},{"type":20,"value":426}," online transaction using MimbleWimble protocol. You can make both type of transaction using this type of address. If you want to send regular online transaction you should pass ",{"type":14,"tag":83,"props":428,"children":429},{"className":7},[430],{"type":20,"value":431},"offline: false",{"type":14,"tag":128,"props":433,"children":436},{"code":434,"language":267,"meta":7,"className":435},"{\n    \"jsonrpc\":\"2.0\", \n    \"id\": 2,\n    \"method\":\"tx_send\", \n    \"params\":\n    {\n        \"value\": 12342342,\n        \"fee\": 2,\n        \"from\": \"472e17b0419055ffee3b3813b98ae671579b0ac0dcd6f1a23b11a75ab148cc67\",\n        \"address\": \"2DWjfstQoaLMYYgvc4NBTTGqRdyM3nvWxP9bDHN....\",  // \u003C-- offline address \n        \"comment\": \"thank you!\",\n        \"asset_id\": 1,\n        \"offline\": false   // \u003C-- make regular online payment\n    }\n}\n\n",[269],[437],{"type":14,"tag":83,"props":438,"children":439},{"__ignoreMap":7},[440],{"type":20,"value":434},{"type":14,"tag":38,"props":442,"children":443},{},[444,446,453,456],{"type":20,"value":445},"regex for the newer address is:",{"type":14,"tag":128,"props":447,"children":448},{"code":130},[449],{"type":14,"tag":83,"props":450,"children":451},{"__ignoreMap":7},[452],{"type":20,"value":130},{"type":14,"tag":77,"props":454,"children":455},{},[],{"type":20,"value":457},"it allows both old-style and new-style addresses.",{"type":14,"tag":38,"props":459,"children":460},{},[461,463,468,470,475,477,480,485,494,497,499,503,505,509,511,516],{"type":20,"value":462},"in order to generate new-style address pass ",{"type":14,"tag":83,"props":464,"children":465},{"className":7},[466],{"type":20,"value":467},"\"type\"",{"type":20,"value":469}," parameter to ",{"type":14,"tag":83,"props":471,"children":472},{"className":7},[473],{"type":20,"value":474},"create_address",{"type":20,"value":476}," method",{"type":14,"tag":77,"props":478,"children":479},{},[],{"type":14,"tag":83,"props":481,"children":482},{"className":7},[483],{"type":20,"value":484},"-->",{"type":14,"tag":128,"props":486,"children":489},{"code":487,"language":267,"meta":7,"className":488},"{\n    \"jsonrpc\" : \"2.0\", \n    \"id\" : 1,\n    \"method\" : \"create_address\", \n    \"params\" :\n    {\n        \"type\": \"max_privacy\",  // \u003C----- NEW\n        \"expiration\" : \"auto\",\n        \"comment\" : \"John Smith\"\n    }\n}\n",[269],[490],{"type":14,"tag":83,"props":491,"children":492},{"__ignoreMap":7},[493],{"type":20,"value":487},{"type":14,"tag":77,"props":495,"children":496},{},[],{"type":20,"value":498},"The values for ",{"type":14,"tag":83,"props":500,"children":501},{"className":7},[502],{"type":20,"value":467},{"type":20,"value":504}," parameter are the same as described earlier. If you don't specify ",{"type":14,"tag":83,"props":506,"children":507},{"className":7},[508],{"type":20,"value":467},{"type":20,"value":510}," ",{"type":14,"tag":83,"props":512,"children":513},{"className":7},[514],{"type":20,"value":515},"\"regular\"",{"type":20,"value":517}," is used by default to keep backward compatibility.",{"type":14,"tag":38,"props":519,"children":520},{},[521,523,527,528,532,534,539,541,549,552,554],{"type":20,"value":522},"If you want to send to ",{"type":14,"tag":150,"props":524,"children":525},{},[526],{"type":20,"value":166},{"type":20,"value":168},{"type":14,"tag":150,"props":529,"children":530},{},[531],{"type":20,"value":173},{"type":20,"value":533}," addresses run API with ",{"type":14,"tag":83,"props":535,"children":536},{"className":7},[537],{"type":20,"value":538},"--enable_lelantus",{"type":20,"value":540},".",{"type":14,"tag":128,"props":542,"children":544},{"code":543},"./wallet-api --enable_lelantus -n \u003Cnode address>\n",[545],{"type":14,"tag":83,"props":546,"children":547},{"__ignoreMap":7},[548],{"type":20,"value":543},{"type":14,"tag":77,"props":550,"children":551},{},[],{"type":20,"value":553},"or specify it in config file",{"type":14,"tag":128,"props":555,"children":557},{"code":556},"enable_lelantus=true\n",[558],{"type":14,"tag":83,"props":559,"children":560},{"__ignoreMap":7},[561],{"type":20,"value":556},{"title":7,"searchDepth":563,"depth":563,"links":564},2,[565,566],{"id":29,"depth":563,"text":32},{"id":178,"depth":563,"text":181},"markdown","content:docs:core-tech:Beam-Fierce-Fermion-6.0-Upgrade-Guide-for-pools-and-exchanges.md","content","docs/core-tech/Beam-Fierce-Fermion-6.0-Upgrade-Guide-for-pools-and-exchanges.md","md",1702260891228]